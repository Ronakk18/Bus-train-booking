<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TIKKIT.COM</title>
  <link rel="stylesheet" href="2page.css">
</head>
<body>
  <div class="navbar">
    <h1>TIKKIT</h1>
    <div>
      <a href="1pge.html">Home</a>
    </div>
  </div>

  <div class="container">
    <h2>TIKKIT</h2>
    <div class="section">
      <label for="source">Source</label>
      <select id="source">
        <option value="">Select Source</option>
        <option value="Delhi">Delhi</option>
        <option value="Mumbai">Mumbai</option>
        <option value="Ahmedabad">Ahmedabad</option>
        <option value="Jaipur">Jaipur</option>
        <option value="Pune">Pune</option>
        <option value="Kolkata">Kolkata</option>
      </select>

      <label for="destination">Destination</label>
      <select id="destination">
        <option value="">Select Destination</option>
        <option value="Ahmedabad">Ahmedabad</option>
        <option value="Kolkata">Kolkata</option>
        <option value="Mumbai">Mumbai</option>
        <option value="Jaipur">Jaipur</option>
        <option value="Pune">Pune</option>
        <option value="Delhi">Delhi</option>
      </select>

      <label for="travelDate">Travel Date</label>
      <input type="date" id="travelDate">

      <button onclick="searchBuses()">Search Buses</button>
    </div>

    <div id="busResults" class="section bus-list" style="display: none;"></div>

    <div id="seatSelection" class="section form-section" style="display: none;">
      <h3>Select Your Seats</h3>
      <div class="seats" id="seatsContainer" data-fare="0"></div>
      <div class="fare-info" id="fareInfo"></div>
      <button onclick="showPassengerForm()">Confirm Booking</button>
    </div>

    <div id="passengerForm" class="section form-section" style="display: none;">
      <h3>Enter Passenger Details</h3>
      <form onsubmit="return validateForm()">
        <label for="name">Name</label>
        <input type="text" id="name" required>

        <label for="age">Age</label>
        <input type="number" id="age" required>

        <label for="gender">Gender</label>
        <select id="gender" required>
          <option value="">Select</option>
          <option value="Male">Male</option>
          <option value="Female">Female</option>
          <option value="Others">Others</option>
        </select>

        <label for="email">Email</label>
        <input type="email" id="email" required>

        <label for="phone">Phone Number</label>
        <input type="text" id="phone" required pattern="[0-9]{10}" title="Please enter a 10-digit phone number">

        <button type="submit">Submit</button>
      </form>
    </div>
  </div>

  <footer>
    <div><strong>About Us:</strong> We provide comfortable and safe bus travel experiences across major cities.</div>
    <div><strong>Contact Us:</strong> Email: support@TIKKIT.com | Phone: +91-9876543210</div>
    <div>&copy; 2025 TIKKIT. All rights reserved.</div>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const today = new Date().toISOString().split('T')[0];
      document.getElementById('travelDate').setAttribute('min', today);
    });

    const busData = [
      { name: "Express Bus", type: "AC Seater", time: "06:00 AM", duration: "5h", fare: 450 },
      { name: "Volvo Sleeper", type: "AC Sleeper", time: "09:30 AM", duration: "6.5h", fare: 750 },
      { name: "Sharma Travels", type: "Non-AC Seater", time: "01:00 PM", duration: "7h", fare: 300 },
      { name: "Greenline Express", type: "AC Sleeper", time: "03:45 PM", duration: "5.5h", fare: 600 },
      { name: "Luxury Liner", type: "AC Semi-Sleeper", time: "08:00 PM", duration: "6h", fare: 700 }
    ];

    function searchBuses() {
      const source = document.getElementById('source').value;
      const destination = document.getElementById('destination').value;
      const travelDate = document.getElementById('travelDate').value;
      const today = new Date().toISOString().split('T')[0];

      if (!source) {
        alert("Please select a source.");
        return;
      }

      if (!destination) {
        alert("Please select a destination.");
        return;
      }

      if (source === destination) {
        alert("Source and destination cannot be the same.");
        return;
      }

      if (!travelDate) {
        alert("Please select a travel date.");
        return;
      }

      if (travelDate < today) {
        alert("Travel date cannot be in the past.");
        return;
      }

      const busResults = document.getElementById('busResults');
      busResults.innerHTML = '';
      busResults.style.display = 'block';

      busData.forEach(bus => {
        const busItem = document.createElement('div');
        busItem.className = 'bus-item';
        busItem.onclick = () => selectBus(bus.name, bus.fare);
        busItem.innerHTML = `
          <strong>${bus.name}</strong> - ${bus.type}<br>
          Departure: ${bus.time} | Duration: ${bus.duration} | Fare: ₹${bus.fare}
        `;
        busResults.appendChild(busItem);
      });
    }

    function selectBus(busName, farePerSeat) {
      document.getElementById('seatSelection').style.display = 'block';
      const seatsContainer = document.getElementById('seatsContainer');
      seatsContainer.innerHTML = '';
      seatsContainer.setAttribute('data-fare', farePerSeat);

      for (let i = 1; i <= 20; i++) {
        const seat = document.createElement('div');
        seat.className = 'seat';
        seat.textContent = `Seat ${i}`;
        seat.onclick = function () {
          seat.classList.toggle('selected');
          updateFare();
        };
        seatsContainer.appendChild(seat);
      }
    }

    function updateFare() {
      const selectedSeats = document.querySelectorAll('.seat.selected');
      const farePerSeat = Number(document.getElementById('seatsContainer').getAttribute('data-fare'));
      const fare = selectedSeats.length * farePerSeat;
      document.getElementById('fareInfo').textContent = `Selected Seats: ${selectedSeats.length}, Total Fare: ₹${fare}`;
    }

    function showPassengerForm() {
      const selectedSeats = document.querySelectorAll('.seat.selected');
      if (selectedSeats.length === 0) {
        alert("Please select at least one seat before proceeding.");
        return;
      }
      document.getElementById('passengerForm').style.display = 'block';
    }

    function validateForm() {
      const email = document.getElementById('email').value;
      const phone = document.getElementById('phone').value;
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      const phoneRegex = /^[0-9]{10}$/;

      if (!emailRegex.test(email)) {
        alert("Please enter a valid email address.");
        return false;
      }
      if (!phoneRegex.test(phone)) {
        alert('Please enter a valid 10-digit phone number.');
        return false;
      }
      alert('Booking successful!');
      return true;
    }
  </script>
</body>
</html>
